<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="400.0" prefWidth="600.0"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.cab302.eduplanner.controller.FlashcardController"
            stylesheets="@styles/flashcard.css">

    <!-- Top Header -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>

            <!-- Title styled like login page -->
            <Label text="FLASHCARDS" styleClass="app-title" />

            <!-- Buttons -->
            <HBox spacing="5">
                <Button fx:id="dashboardButton" text="Dashboard" styleClass="secondary"/>
                <Button fx:id="uploadButton" text="Upload" styleClass="secondary"/>
            </HBox>
        </HBox>
    </top>

    <!-- Sidebar for Folders/Decks -->
    <left>
        <VBox spacing="10" prefWidth="220" style="-fx-background-color: #ffffff; -fx-padding: 10;">
            <Label text="Subjects" styleClass="app-title"/>

            <!-- Folder + Deck tree -->
            <TreeView fx:id="folderTree" VBox.vgrow="ALWAYS"/>

            <!-- Action buttons -->
            <HBox spacing="5">
                <Button fx:id="newFolderButton" text="New Folder" styleClass="primary"/>
                <Button fx:id="newDeckButton" text="New Deck" styleClass="primary"/>
            </HBox>
            <HBox spacing="5">
                <Button fx:id="renameButton" text="Rename" styleClass="secondary"/>
                <Button fx:id="deleteFolderDeckButton" text="Delete" styleClass="secondary"/>
            </HBox>
        </VBox>
    </left>

    <!-- Center with arrows beside flashcard -->
    <center>
        <HBox alignment="CENTER" spacing="10">
            <!-- Prev button -->
            <Button fx:id="prevButton" text="⟨" styleClass="nav-arrow"/>

            <!-- Flashcard area -->
            <StackPane fx:id="flashcardPane" prefHeight="200" prefWidth="380">
                <Label fx:id="flashcardText" wrapText="true" />
            </StackPane>

            <!-- Next button -->
            <Button fx:id="nextButton" text="⟩" styleClass="nav-arrow"/>
        </HBox>
    </center>

    <!-- Bottom Controls -->
    <bottom>
        <VBox alignment="CENTER" spacing="10">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>

            <!-- Button groups with fixed 50px gap -->
            <HBox alignment="CENTER" spacing="50">
                <!-- Left group -->
                <HBox spacing="5">
                    <Button fx:id="shuffleButton" text="Shuffle" styleClass="secondary"/>
                    <Button fx:id="flipButton" text="Flip" styleClass="secondary"/>
                    <Button fx:id="finishButton" text="Finish" styleClass="secondary"/>
                    <Button fx:id="resetButton" text="Reset" styleClass="secondary"/>
                </HBox>

                <!-- Right group -->
                <HBox spacing="5">
                    <Button fx:id="addButton" text="Add" styleClass="secondary"/>
                    <Button fx:id="editButton" text="Edit" styleClass="secondary"/>
                    <Button fx:id="deleteButton" text="Delete" styleClass="secondary"/>
                </HBox>
            </HBox>

            <!-- Progress tracking -->
            <ProgressBar fx:id="progressBar" prefWidth="300" />
            <Label fx:id="progressLabel" text="Progress: 0/0" />
        </VBox>
    </bottom>

</BorderPane>
